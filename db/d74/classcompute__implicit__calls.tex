\hypertarget{classcompute__implicit__calls}{}\section{compute\+\_\+implicit\+\_\+calls Class Reference}
\label{classcompute__implicit__calls}\index{compute\+\_\+implicit\+\_\+calls@{compute\+\_\+implicit\+\_\+calls}}


{\ttfamily \#include $<$compute\+\_\+implicit\+\_\+calls.\+hpp$>$}



Inheritance diagram for compute\+\_\+implicit\+\_\+calls\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=214pt]{d0/d05/classcompute__implicit__calls__inherit__graph}
\end{center}
\end{figure}


Collaboration diagram for compute\+\_\+implicit\+\_\+calls\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{db/d58/classcompute__implicit__calls__coll__graph}
\end{center}
\end{figure}
\subsection*{Public Member Functions}
\begin{DoxyCompactItemize}
\item 
\hyperlink{classcompute__implicit__calls_a6e0a8827ed0c43ffae6b916deb1a57be}{compute\+\_\+implicit\+\_\+calls} (const \hyperlink{Parameter_8hpp_a37841774a6fcb479b597fdf8955eb4ea}{Parameter\+Const\+Ref} \hyperlink{classDesignFlowStep_a802eaafe8013df706370679d1a436949}{parameters}, const \hyperlink{application__manager_8hpp_a04ccad4e5ee401e8934306672082c180}{application\+\_\+manager\+Ref} \hyperlink{classFrontendFlowStep_a0ac0d8db2a378416583f51c4faa59d15}{AppM}, unsigned int function\+\_\+idi, const Design\+Flow\+Manager\+Const\+Ref \hyperlink{classDesignFlowStep_ab770677ddf087613add30024e16a5554}{design\+\_\+flow\+\_\+manager})
\begin{DoxyCompactList}\small\item\em Constructor. \end{DoxyCompactList}\item 
\hyperlink{classcompute__implicit__calls_aafe777edf1545793f29518008172930d}{$\sim$compute\+\_\+implicit\+\_\+calls} () override
\begin{DoxyCompactList}\small\item\em Destructor. \end{DoxyCompactList}\item 
\hyperlink{design__flow__step_8hpp_afb1f0d73069c26076b8d31dbc8ebecdf}{Design\+Flow\+Step\+\_\+\+Status} \hyperlink{classcompute__implicit__calls_ae2088a9a4859e68a380a05875901b9e3}{Internal\+Exec} () override
\begin{DoxyCompactList}\small\item\em Determines the variables that require a memory access. \end{DoxyCompactList}\end{DoxyCompactItemize}
\subsection*{Private Member Functions}
\begin{DoxyCompactItemize}
\item 
const \hyperlink{classCustomUnorderedSet}{Custom\+Unordered\+Set}$<$ std\+::pair$<$ \hyperlink{frontend__flow__step_8hpp_afeb3716c693d2b2e4ed3e6d04c3b63bb}{Frontend\+Flow\+Step\+Type}, \hyperlink{classFrontendFlowStep_af7cf30f2023e5b99e637dc2058289ab0}{Function\+Relationship} $>$ $>$ \hyperlink{classcompute__implicit__calls_a5b072707f48af9376c922af6479ffb0a}{Compute\+Frontend\+Relationships} (const \hyperlink{classDesignFlowStep_a723a3baf19ff2ceb77bc13e099d0b1b7}{Design\+Flow\+Step\+::\+Relationship\+Type} relationship\+\_\+type) const override
\begin{DoxyCompactList}\small\item\em Return the set of analyses in relationship with this design step. \end{DoxyCompactList}\end{DoxyCompactItemize}
\subsection*{Private Attributes}
\begin{DoxyCompactItemize}
\item 
\hyperlink{tree__manager_8hpp_a96ff150c071ce11a9a7a1e40590f205e}{tree\+\_\+manager\+Ref} \hyperlink{classcompute__implicit__calls_ae86cc81a2dacd41fbad0f725dbe1e5f2}{TM}
\begin{DoxyCompactList}\small\item\em The tree manager. \end{DoxyCompactList}\end{DoxyCompactItemize}
\subsection*{Additional Inherited Members}


\subsection{Detailed Description}


Definition at line 60 of file compute\+\_\+implicit\+\_\+calls.\+hpp.



\subsection{Constructor \& Destructor Documentation}
\mbox{\Hypertarget{classcompute__implicit__calls_a6e0a8827ed0c43ffae6b916deb1a57be}\label{classcompute__implicit__calls_a6e0a8827ed0c43ffae6b916deb1a57be}} 
\index{compute\+\_\+implicit\+\_\+calls@{compute\+\_\+implicit\+\_\+calls}!compute\+\_\+implicit\+\_\+calls@{compute\+\_\+implicit\+\_\+calls}}
\index{compute\+\_\+implicit\+\_\+calls@{compute\+\_\+implicit\+\_\+calls}!compute\+\_\+implicit\+\_\+calls@{compute\+\_\+implicit\+\_\+calls}}
\subsubsection{\texorpdfstring{compute\+\_\+implicit\+\_\+calls()}{compute\_implicit\_calls()}}
{\footnotesize\ttfamily compute\+\_\+implicit\+\_\+calls\+::compute\+\_\+implicit\+\_\+calls (\begin{DoxyParamCaption}\item[{const \hyperlink{Parameter_8hpp_a37841774a6fcb479b597fdf8955eb4ea}{Parameter\+Const\+Ref}}]{\+\_\+parameters,  }\item[{const \hyperlink{application__manager_8hpp_a04ccad4e5ee401e8934306672082c180}{application\+\_\+manager\+Ref}}]{\+\_\+\+AppM,  }\item[{unsigned int}]{\+\_\+function\+\_\+id,  }\item[{const Design\+Flow\+Manager\+Const\+Ref}]{\+\_\+design\+\_\+flow\+\_\+manager }\end{DoxyParamCaption})}



Constructor. 

This step do the lowering of two types of implicit memory operations\+: memset and memcpy implicit patterns.


\begin{DoxyParams}{Parameters}
{\em parameters} & is the set of input parameters \\
\hline
{\em AppM} & is the application manager \\
\hline
{\em function\+\_\+id} & is the node id of the function analyzed. \\
\hline
{\em design\+\_\+flow\+\_\+manager} & is the design flow manager\\
\hline
\end{DoxyParams}
Currently, only the memset implicit pattern is managed.

For the memset we look for this pattern\+: B\+B1\+: (xxxxa)$\ast$ var = \{\}; (xxxxb)$\ast$

and we translate such code into this one\+: B\+B1\+: (xxxxa)$\ast$ upperlimit=varsize+var; B\+B\+N1\+: i0=phi(var,i1) i1=i0+sizeof(item of var); i0$\ast$ = 0; if(i1!= upperlimit) goto B\+B\+N1; B\+B\+N2\+: (xxxxb)$\ast$ Note that implicit memory virtual definition has to be translated from \char`\"{}var = \{\};\char`\"{} into \char`\"{}var\mbox{[}i0\mbox{]} = 0;\char`\"{}.Header include Behavior include \hyperlink{classParameter}{Parameter} include Tree include 

Definition at line 95 of file compute\+\_\+implicit\+\_\+calls.\+cpp.



References Design\+Flow\+Step\+::debug\+\_\+level, D\+E\+B\+U\+G\+\_\+\+L\+E\+V\+E\+L\+\_\+\+N\+O\+NE, G\+E\+T\+\_\+\+C\+L\+A\+SS, Design\+Flow\+Step\+::parameters, and $\sim$compute\+\_\+implicit\+\_\+calls().

Here is the call graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{db/d74/classcompute__implicit__calls_a6e0a8827ed0c43ffae6b916deb1a57be_cgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{classcompute__implicit__calls_aafe777edf1545793f29518008172930d}\label{classcompute__implicit__calls_aafe777edf1545793f29518008172930d}} 
\index{compute\+\_\+implicit\+\_\+calls@{compute\+\_\+implicit\+\_\+calls}!````~compute\+\_\+implicit\+\_\+calls@{$\sim$compute\+\_\+implicit\+\_\+calls}}
\index{````~compute\+\_\+implicit\+\_\+calls@{$\sim$compute\+\_\+implicit\+\_\+calls}!compute\+\_\+implicit\+\_\+calls@{compute\+\_\+implicit\+\_\+calls}}
\subsubsection{\texorpdfstring{$\sim$compute\+\_\+implicit\+\_\+calls()}{~compute\_implicit\_calls()}}
{\footnotesize\ttfamily compute\+\_\+implicit\+\_\+calls\+::$\sim$compute\+\_\+implicit\+\_\+calls (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [override]}, {\ttfamily [default]}}



Destructor. 



Referenced by compute\+\_\+implicit\+\_\+calls().

Here is the caller graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{db/d74/classcompute__implicit__calls_aafe777edf1545793f29518008172930d_icgraph}
\end{center}
\end{figure}


\subsection{Member Function Documentation}
\mbox{\Hypertarget{classcompute__implicit__calls_a5b072707f48af9376c922af6479ffb0a}\label{classcompute__implicit__calls_a5b072707f48af9376c922af6479ffb0a}} 
\index{compute\+\_\+implicit\+\_\+calls@{compute\+\_\+implicit\+\_\+calls}!Compute\+Frontend\+Relationships@{Compute\+Frontend\+Relationships}}
\index{Compute\+Frontend\+Relationships@{Compute\+Frontend\+Relationships}!compute\+\_\+implicit\+\_\+calls@{compute\+\_\+implicit\+\_\+calls}}
\subsubsection{\texorpdfstring{Compute\+Frontend\+Relationships()}{ComputeFrontendRelationships()}}
{\footnotesize\ttfamily const \hyperlink{classCustomUnorderedSet}{Custom\+Unordered\+Set}$<$ std\+::pair$<$ \hyperlink{frontend__flow__step_8hpp_afeb3716c693d2b2e4ed3e6d04c3b63bb}{Frontend\+Flow\+Step\+Type}, \hyperlink{classFrontendFlowStep_af7cf30f2023e5b99e637dc2058289ab0}{Frontend\+Flow\+Step\+::\+Function\+Relationship} $>$ $>$ compute\+\_\+implicit\+\_\+calls\+::\+Compute\+Frontend\+Relationships (\begin{DoxyParamCaption}\item[{const \hyperlink{classDesignFlowStep_a723a3baf19ff2ceb77bc13e099d0b1b7}{Design\+Flow\+Step\+::\+Relationship\+Type}}]{relationship\+\_\+type }\end{DoxyParamCaption}) const\hspace{0.3cm}{\ttfamily [override]}, {\ttfamily [private]}, {\ttfamily [virtual]}}



Return the set of analyses in relationship with this design step. 


\begin{DoxyParams}{Parameters}
{\em relationship\+\_\+type} & is the type of relationship to be considered \\
\hline
\end{DoxyParams}


Implements \hyperlink{classFrontendFlowStep_abeaff70b59734e462d347ed343dd700d}{Frontend\+Flow\+Step}.



Definition at line 103 of file compute\+\_\+implicit\+\_\+calls.\+cpp.



References Design\+Flow\+Step\+::\+D\+E\+P\+E\+N\+D\+E\+N\+C\+E\+\_\+\+R\+E\+L\+A\+T\+I\+O\+N\+S\+H\+IP, Design\+Flow\+Step\+::\+I\+N\+V\+A\+L\+I\+D\+A\+T\+I\+O\+N\+\_\+\+R\+E\+L\+A\+T\+I\+O\+N\+S\+H\+IP, Design\+Flow\+Step\+::\+P\+R\+E\+C\+E\+D\+E\+N\+C\+E\+\_\+\+R\+E\+L\+A\+T\+I\+O\+N\+S\+H\+IP, Frontend\+Flow\+Step\+::\+S\+A\+M\+E\+\_\+\+F\+U\+N\+C\+T\+I\+ON, and T\+H\+R\+O\+W\+\_\+\+U\+N\+R\+E\+A\+C\+H\+A\+B\+LE.

\mbox{\Hypertarget{classcompute__implicit__calls_ae2088a9a4859e68a380a05875901b9e3}\label{classcompute__implicit__calls_ae2088a9a4859e68a380a05875901b9e3}} 
\index{compute\+\_\+implicit\+\_\+calls@{compute\+\_\+implicit\+\_\+calls}!Internal\+Exec@{Internal\+Exec}}
\index{Internal\+Exec@{Internal\+Exec}!compute\+\_\+implicit\+\_\+calls@{compute\+\_\+implicit\+\_\+calls}}
\subsubsection{\texorpdfstring{Internal\+Exec()}{InternalExec()}}
{\footnotesize\ttfamily \hyperlink{design__flow__step_8hpp_afb1f0d73069c26076b8d31dbc8ebecdf}{Design\+Flow\+Step\+\_\+\+Status} compute\+\_\+implicit\+\_\+calls\+::\+Internal\+Exec (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [override]}, {\ttfamily [virtual]}}



Determines the variables that require a memory access. 

check for implicit memset/memcpy calls

do the memset transformations

create B\+B\+N1

Add B\+B\+N1 predecessor as B\+B1\+\_\+index basic block

create B\+B\+N2

Add B\+B\+N2 predecessor as B\+B\+N1 basic block

Add B\+B\+N2 successor as B\+B1 basic block

fix true and false edges

Add B\+B\+N1 successor as succ basic block

Fix B\+B\+N2 successors

Update all the phis

The tree manipulation

retrieve the starting variable

add a cast

Create phi for the induction variable of B\+B\+N1

The list of def edge which contains for the moment only the value coming from the forward edge

compute the size of memory to be set with memset

the comparison

the gimple cond

restructure of the implicit memset statement

We must use pointer since we are erasing elements in the list

move var = \{\}; to B\+B\+N1

Going one step step forward to avoid invalidation of the pointer

Moving statement

Going one step back since pointer is already increment in for loop

move (xxxxb)$\ast$ to B\+B\+N2

Going one step step forward to avoid invalidation of the pointer

Moving statement

Going one step back since pointer is already increment in for loop 

Implements \hyperlink{classFunctionFrontendFlowStep_a00612f7fb9eabbbc8ee7e39d34e5ac68}{Function\+Frontend\+Flow\+Step}.



Definition at line 129 of file compute\+\_\+implicit\+\_\+calls.\+cpp.



References Frontend\+Flow\+Step\+::\+AppM, B\+B\+\_\+\+E\+N\+T\+RY, B\+B\+\_\+\+E\+X\+IT, tree\+\_\+helper\+::\+C\+Get\+Elements(), tree\+\_\+manager\+::\+C\+Get\+Tree\+Node(), tree\+\_\+helper\+::\+C\+Get\+Type(), tree\+\_\+manager\+::\+Create\+Unique\+Integer\+Cst(), Design\+Flow\+Step\+::debug\+\_\+level, D\+E\+B\+U\+G\+\_\+\+L\+E\+V\+E\+L\+\_\+\+P\+E\+D\+A\+N\+T\+IC, D\+E\+B\+U\+G\+\_\+\+L\+E\+V\+E\+L\+\_\+\+V\+E\+R\+Y\+\_\+\+P\+E\+D\+A\+N\+T\+IC, Function\+Edge\+Info\+::direct\+\_\+call, Function\+Frontend\+Flow\+Step\+::function\+\_\+id, tree\+\_\+manager\+::function\+\_\+index(), tree\+\_\+helper\+::get\+\_\+base\+\_\+index(), G\+E\+T\+\_\+\+I\+N\+D\+E\+X\+\_\+\+C\+O\+N\+S\+T\+\_\+\+N\+O\+DE, G\+E\+T\+\_\+\+I\+N\+D\+E\+X\+\_\+\+N\+O\+DE, tree\+\_\+node\+::get\+\_\+kind(), G\+E\+T\+\_\+\+N\+O\+DE, tree\+\_\+manager\+::get\+\_\+tree\+\_\+node\+\_\+const(), tree\+\_\+helper\+::get\+\_\+type\+\_\+index(), tree\+\_\+helper\+::get\+\_\+type\+\_\+node(), Function\+Frontend\+Flow\+Step\+::\+Get\+Signature(), tree\+\_\+manager\+::\+Get\+Tree\+Reindex(), I\+N\+D\+E\+N\+T\+\_\+\+D\+B\+G\+\_\+\+M\+EX, tree\+\_\+helper\+::is\+\_\+a\+\_\+vector(), max(), Design\+Flow\+Step\+::parameters, phi, P\+R\+I\+N\+T\+\_\+\+D\+B\+G\+\_\+\+M\+EX, tree\+\_\+helper\+::\+Size(), sl, S\+TR, S\+U\+C\+C\+E\+SS, T\+H\+R\+O\+W\+\_\+\+A\+S\+S\+E\+RT, TM, To\+String(), tree\+\_\+node\+::\+To\+String(), U\+N\+C\+H\+A\+N\+G\+ED, and Point\+To\+Solution\+::variables.

Here is the call graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{db/d74/classcompute__implicit__calls_ae2088a9a4859e68a380a05875901b9e3_cgraph}
\end{center}
\end{figure}


\subsection{Field Documentation}
\mbox{\Hypertarget{classcompute__implicit__calls_ae86cc81a2dacd41fbad0f725dbe1e5f2}\label{classcompute__implicit__calls_ae86cc81a2dacd41fbad0f725dbe1e5f2}} 
\index{compute\+\_\+implicit\+\_\+calls@{compute\+\_\+implicit\+\_\+calls}!TM@{TM}}
\index{TM@{TM}!compute\+\_\+implicit\+\_\+calls@{compute\+\_\+implicit\+\_\+calls}}
\subsubsection{\texorpdfstring{TM}{TM}}
{\footnotesize\ttfamily \hyperlink{tree__manager_8hpp_a96ff150c071ce11a9a7a1e40590f205e}{tree\+\_\+manager\+Ref} compute\+\_\+implicit\+\_\+calls\+::\+TM\hspace{0.3cm}{\ttfamily [private]}}



The tree manager. 



Definition at line 64 of file compute\+\_\+implicit\+\_\+calls.\+hpp.



Referenced by Internal\+Exec().



The documentation for this class was generated from the following files\+:\begin{DoxyCompactItemize}
\item 
/home/osboxes/bambu/\+Pand\+A-\/bambu/src/frontend\+\_\+analysis/\+I\+R\+\_\+analysis/\hyperlink{compute__implicit__calls_8hpp}{compute\+\_\+implicit\+\_\+calls.\+hpp}\item 
/home/osboxes/bambu/\+Pand\+A-\/bambu/src/frontend\+\_\+analysis/\+I\+R\+\_\+analysis/\hyperlink{compute__implicit__calls_8cpp}{compute\+\_\+implicit\+\_\+calls.\+cpp}\end{DoxyCompactItemize}
