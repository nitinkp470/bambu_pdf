\hypertarget{classSwitchFix}{}\section{Switch\+Fix Class Reference}
\label{classSwitchFix}\index{Switch\+Fix@{Switch\+Fix}}


Superclass include.  




{\ttfamily \#include $<$switch\+\_\+fix.\+hpp$>$}



Inheritance diagram for Switch\+Fix\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=214pt]{d0/d07/classSwitchFix__inherit__graph}
\end{center}
\end{figure}


Collaboration diagram for Switch\+Fix\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{d6/dc8/classSwitchFix__coll__graph}
\end{center}
\end{figure}
\subsection*{Public Member Functions}
\begin{DoxyCompactItemize}
\item 
\hyperlink{classSwitchFix_a3acd195af1be04d4c834b5b542fcbf7d}{Switch\+Fix} (const \hyperlink{application__manager_8hpp_a04ccad4e5ee401e8934306672082c180}{application\+\_\+manager\+Ref} \hyperlink{classFrontendFlowStep_a0ac0d8db2a378416583f51c4faa59d15}{AppM}, unsigned int \hyperlink{classFunctionFrontendFlowStep_a58ef2383ad1a212a8d3f396625a4b616}{function\+\_\+id}, const Design\+Flow\+Manager\+Const\+Ref \hyperlink{classDesignFlowStep_ab770677ddf087613add30024e16a5554}{design\+\_\+flow\+\_\+manager}, const \hyperlink{Parameter_8hpp_a37841774a6fcb479b597fdf8955eb4ea}{Parameter\+Const\+Ref} \hyperlink{classDesignFlowStep_a802eaafe8013df706370679d1a436949}{parameters})
\begin{DoxyCompactList}\small\item\em Constructor. \end{DoxyCompactList}\item 
\hyperlink{classSwitchFix_a84d2ac06dd53537c0bf17b369f2e65f2}{$\sim$\+Switch\+Fix} () override
\begin{DoxyCompactList}\small\item\em Destructor. \end{DoxyCompactList}\item 
\hyperlink{design__flow__step_8hpp_afb1f0d73069c26076b8d31dbc8ebecdf}{Design\+Flow\+Step\+\_\+\+Status} \hyperlink{classSwitchFix_ab796548c62324fd3b26815dbf021cdfd}{Internal\+Exec} () override
\begin{DoxyCompactList}\small\item\em Updates the tree to have a more compliant C\+FG. \end{DoxyCompactList}\end{DoxyCompactItemize}
\subsection*{Private Member Functions}
\begin{DoxyCompactItemize}
\item 
const \hyperlink{classCustomUnorderedSet}{Custom\+Unordered\+Set}$<$ std\+::pair$<$ \hyperlink{frontend__flow__step_8hpp_afeb3716c693d2b2e4ed3e6d04c3b63bb}{Frontend\+Flow\+Step\+Type}, \hyperlink{classFrontendFlowStep_af7cf30f2023e5b99e637dc2058289ab0}{Function\+Relationship} $>$ $>$ \hyperlink{classSwitchFix_a7e25f29f6955c0a29ce90f345a3fcd08}{Compute\+Frontend\+Relationships} (const \hyperlink{classDesignFlowStep_a723a3baf19ff2ceb77bc13e099d0b1b7}{Design\+Flow\+Step\+::\+Relationship\+Type} relationship\+\_\+type) const override
\begin{DoxyCompactList}\small\item\em Return the set of analyses in relationship with this design step. \end{DoxyCompactList}\end{DoxyCompactItemize}
\subsection*{Additional Inherited Members}


\subsection{Detailed Description}
Superclass include. 

Restructuring the basic block structures to fix switches 

Definition at line 53 of file switch\+\_\+fix.\+hpp.



\subsection{Constructor \& Destructor Documentation}
\mbox{\Hypertarget{classSwitchFix_a3acd195af1be04d4c834b5b542fcbf7d}\label{classSwitchFix_a3acd195af1be04d4c834b5b542fcbf7d}} 
\index{Switch\+Fix@{Switch\+Fix}!Switch\+Fix@{Switch\+Fix}}
\index{Switch\+Fix@{Switch\+Fix}!Switch\+Fix@{Switch\+Fix}}
\subsubsection{\texorpdfstring{Switch\+Fix()}{SwitchFix()}}
{\footnotesize\ttfamily Switch\+Fix\+::\+Switch\+Fix (\begin{DoxyParamCaption}\item[{const \hyperlink{application__manager_8hpp_a04ccad4e5ee401e8934306672082c180}{application\+\_\+manager\+Ref}}]{\+\_\+\+AppM,  }\item[{unsigned int}]{\+\_\+function\+\_\+id,  }\item[{const Design\+Flow\+Manager\+Const\+Ref}]{\+\_\+design\+\_\+flow\+\_\+manager,  }\item[{const \hyperlink{Parameter_8hpp_a37841774a6fcb479b597fdf8955eb4ea}{Parameter\+Const\+Ref}}]{\+\_\+parameters }\end{DoxyParamCaption})}



Constructor. 

Header include.


\begin{DoxyParams}{Parameters}
{\em AppM} & is the application manager \\
\hline
{\em function\+\_\+id} & is the identifier of the function \\
\hline
{\em design\+\_\+flow\+\_\+manager} & is the design flow manager \\
\hline
{\em parameters} & set of input parameters\\
\hline
\end{DoxyParams}
. include behavior include parser/treegcc include tree include 

Definition at line 68 of file switch\+\_\+fix.\+cpp.



References Design\+Flow\+Step\+::debug\+\_\+level, D\+E\+B\+U\+G\+\_\+\+L\+E\+V\+E\+L\+\_\+\+N\+O\+NE, G\+E\+T\+\_\+\+C\+L\+A\+SS, and $\sim$\+Switch\+Fix().

Here is the call graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=342pt]{de/def/classSwitchFix_a3acd195af1be04d4c834b5b542fcbf7d_cgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{classSwitchFix_a84d2ac06dd53537c0bf17b369f2e65f2}\label{classSwitchFix_a84d2ac06dd53537c0bf17b369f2e65f2}} 
\index{Switch\+Fix@{Switch\+Fix}!````~Switch\+Fix@{$\sim$\+Switch\+Fix}}
\index{````~Switch\+Fix@{$\sim$\+Switch\+Fix}!Switch\+Fix@{Switch\+Fix}}
\subsubsection{\texorpdfstring{$\sim$\+Switch\+Fix()}{~SwitchFix()}}
{\footnotesize\ttfamily Switch\+Fix\+::$\sim$\+Switch\+Fix (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [override]}, {\ttfamily [default]}}



Destructor. 



Referenced by Switch\+Fix().

Here is the caller graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=342pt]{de/def/classSwitchFix_a84d2ac06dd53537c0bf17b369f2e65f2_icgraph}
\end{center}
\end{figure}


\subsection{Member Function Documentation}
\mbox{\Hypertarget{classSwitchFix_a7e25f29f6955c0a29ce90f345a3fcd08}\label{classSwitchFix_a7e25f29f6955c0a29ce90f345a3fcd08}} 
\index{Switch\+Fix@{Switch\+Fix}!Compute\+Frontend\+Relationships@{Compute\+Frontend\+Relationships}}
\index{Compute\+Frontend\+Relationships@{Compute\+Frontend\+Relationships}!Switch\+Fix@{Switch\+Fix}}
\subsubsection{\texorpdfstring{Compute\+Frontend\+Relationships()}{ComputeFrontendRelationships()}}
{\footnotesize\ttfamily const \hyperlink{classCustomUnorderedSet}{Custom\+Unordered\+Set}$<$ std\+::pair$<$ \hyperlink{frontend__flow__step_8hpp_afeb3716c693d2b2e4ed3e6d04c3b63bb}{Frontend\+Flow\+Step\+Type}, \hyperlink{classFrontendFlowStep_af7cf30f2023e5b99e637dc2058289ab0}{Function\+Frontend\+Flow\+Step\+::\+Function\+Relationship} $>$ $>$ Switch\+Fix\+::\+Compute\+Frontend\+Relationships (\begin{DoxyParamCaption}\item[{const \hyperlink{classDesignFlowStep_a723a3baf19ff2ceb77bc13e099d0b1b7}{Design\+Flow\+Step\+::\+Relationship\+Type}}]{relationship\+\_\+type }\end{DoxyParamCaption}) const\hspace{0.3cm}{\ttfamily [override]}, {\ttfamily [private]}, {\ttfamily [virtual]}}



Return the set of analyses in relationship with this design step. 


\begin{DoxyParams}{Parameters}
{\em relationship\+\_\+type} & is the type of relationship to be considered \\
\hline
\end{DoxyParams}


Implements \hyperlink{classFrontendFlowStep_abeaff70b59734e462d347ed343dd700d}{Frontend\+Flow\+Step}.



Definition at line 76 of file switch\+\_\+fix.\+cpp.



References B\+L\+O\+C\+K\+\_\+\+F\+IX, Design\+Flow\+Step\+::\+D\+E\+P\+E\+N\+D\+E\+N\+C\+E\+\_\+\+R\+E\+L\+A\+T\+I\+O\+N\+S\+H\+IP, Design\+Flow\+Step\+::\+I\+N\+V\+A\+L\+I\+D\+A\+T\+I\+O\+N\+\_\+\+R\+E\+L\+A\+T\+I\+O\+N\+S\+H\+IP, Design\+Flow\+Step\+::\+P\+R\+E\+C\+E\+D\+E\+N\+C\+E\+\_\+\+R\+E\+L\+A\+T\+I\+O\+N\+S\+H\+IP, Frontend\+Flow\+Step\+::\+S\+A\+M\+E\+\_\+\+F\+U\+N\+C\+T\+I\+ON, and T\+H\+R\+O\+W\+\_\+\+U\+N\+R\+E\+A\+C\+H\+A\+B\+LE.

\mbox{\Hypertarget{classSwitchFix_ab796548c62324fd3b26815dbf021cdfd}\label{classSwitchFix_ab796548c62324fd3b26815dbf021cdfd}} 
\index{Switch\+Fix@{Switch\+Fix}!Internal\+Exec@{Internal\+Exec}}
\index{Internal\+Exec@{Internal\+Exec}!Switch\+Fix@{Switch\+Fix}}
\subsubsection{\texorpdfstring{Internal\+Exec()}{InternalExec()}}
{\footnotesize\ttfamily \hyperlink{design__flow__step_8hpp_afb1f0d73069c26076b8d31dbc8ebecdf}{Design\+Flow\+Step\+\_\+\+Status} Switch\+Fix\+::\+Internal\+Exec (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [override]}, {\ttfamily [virtual]}}



Updates the tree to have a more compliant C\+FG. 

\begin{DoxyReturn}{Returns}
the exit status of this step 
\end{DoxyReturn}
Fix switch statements

The set of basic blocks which contain more than a label; this fix has to be performed before multiple\+\_\+pred\+\_\+switch check

Compute the case labels of the switch

First check that the first label is a case

Each label has to be put into a different basic block; first label is threated in a different way since it can have multiple predecessor Create new basic block

Updating successors of the predecessor of the current block when they are not the switch

This is an intermediate label

Create new basic block

Predecessor of current node has to be fixed

Check if this is a case \+: and not a label \+: -\/ if so remove this from successor of switch, otherwise add switch to predecessor of this

create the \hyperlink{structgimple__multi__way__if}{gimple\+\_\+multi\+\_\+way\+\_\+if} node

Map between label decl index and corresponding case value

The destination of the default

Building list of conds

Default 

Implements \hyperlink{classFunctionFrontendFlowStep_a00612f7fb9eabbbc8ee7e39d34e5ac68}{Function\+Frontend\+Flow\+Step}.



Definition at line 102 of file switch\+\_\+fix.\+cpp.



References Frontend\+Flow\+Step\+::\+AppM, tree\+\_\+manager\+::\+C\+Get\+Tree\+Node(), tree\+\_\+manager\+::create\+\_\+tree\+\_\+node(), Design\+Flow\+Step\+::debug\+\_\+level, D\+E\+B\+U\+G\+\_\+\+L\+E\+V\+E\+L\+\_\+\+P\+E\+D\+A\+N\+T\+IC, D\+E\+B\+U\+G\+\_\+\+L\+E\+V\+E\+L\+\_\+\+V\+E\+R\+Y\+\_\+\+P\+E\+D\+A\+N\+T\+IC, Function\+Frontend\+Flow\+Step\+::function\+\_\+behavior, Function\+Frontend\+Flow\+Step\+::function\+\_\+id, G\+E\+T\+\_\+\+C\+O\+N\+S\+T\+\_\+\+N\+O\+DE, G\+E\+T\+\_\+\+I\+N\+D\+E\+X\+\_\+\+N\+O\+DE, tree\+\_\+helper\+::get\+\_\+integer\+\_\+cst\+\_\+value(), G\+E\+T\+\_\+\+N\+O\+DE, tree\+\_\+manager\+::get\+\_\+tree\+\_\+node\+\_\+const(), Function\+Frontend\+Flow\+Step\+::\+Get\+Name(), tree\+\_\+manager\+::\+Get\+Tree\+Reindex(), I\+N\+D\+E\+N\+T\+\_\+\+D\+B\+G\+\_\+\+M\+EX, index, tree\+\_\+vec\+::list\+\_\+of\+\_\+op, tree\+\_\+manager\+::new\+\_\+tree\+\_\+node\+\_\+id(), Design\+Flow\+Step\+::parameters, phi, Frontend\+Flow\+Step\+::\+Print\+Tree\+Manager(), sl, S\+TR, S\+U\+C\+C\+E\+SS, T\+H\+R\+O\+W\+\_\+\+A\+S\+S\+E\+RT, T\+OK, T\+O\+K\+\_\+\+A\+R\+T\+I\+F\+I\+C\+I\+AL, T\+O\+K\+\_\+\+OP, T\+O\+K\+\_\+\+S\+C\+PE, T\+O\+K\+\_\+\+S\+R\+CP, T\+O\+K\+\_\+\+T\+Y\+PE, To\+String(), and Function\+Frontend\+Flow\+Step\+::\+Write\+B\+B\+Graph\+Dot().

Here is the call graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{de/def/classSwitchFix_ab796548c62324fd3b26815dbf021cdfd_cgraph}
\end{center}
\end{figure}


The documentation for this class was generated from the following files\+:\begin{DoxyCompactItemize}
\item 
/home/osboxes/bambu/\+Pand\+A-\/bambu/src/frontend\+\_\+analysis/\+I\+R\+\_\+analysis/\hyperlink{switch__fix_8hpp}{switch\+\_\+fix.\+hpp}\item 
/home/osboxes/bambu/\+Pand\+A-\/bambu/src/frontend\+\_\+analysis/\+I\+R\+\_\+analysis/\hyperlink{switch__fix_8cpp}{switch\+\_\+fix.\+cpp}\end{DoxyCompactItemize}
